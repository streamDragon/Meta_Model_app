<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meta Model - כלי תרגול שאול מטה מודל</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>🧠 Meta Model - כלי תרגול</h1>
            <p>תרגל שאול מטה מודל של Richard Bandler על פי הכללים של NLP</p>
            <div class="onboarding-hint" id="hint-box" style="display:none">
                <small id="hint-text"></small>
                <button onclick="closeHint()" class="close-hint">✕</button>
            </div>
        </header>

        <nav class="tabs">
            <button class="tab-btn active" data-tab="home">בית</button>
            <button class="tab-btn" data-tab="categories">קטגוריות</button>
            <button class="tab-btn" data-tab="practice">תרגול</button>
            <button class="tab-btn" data-tab="blueprint">Blueprint Builder</button>
            <button class="tab-btn" data-tab="prismlab">מעבדת פריזמות</button>
            <button class="tab-btn" data-tab="about">על הפרויקט</button>
        </nav>

        <!-- HOME TAB -->
        <section id="home" class="tab-content active">
            <div class="card">
                <h2>ברוכים הבאים! 👋</h2>
                <p>Meta Model היא טכניקה ב-NLP המסייעת לזיהוי ותיקון הפרות שפה שמגבילות אותנו.</p>
                
                <div class="intro-grid">
                    <div class="intro-item">
                        <h3>🎯 מה זה Meta Model?</h3>
                        <p>מודל שפה המזהה 3 עיוותים: מחיקה, עיוות והכללה.</p>
                    </div>
                    <div class="intro-item">
                        <h3>📚 למה זה חשוב?</h3>
                        <p>זוהי כלי חזקה לתרגול עומק, כדי להבין ולשנות דפוסים של חשיבה.</p>
                    </div>
                    <div class="intro-item">
                        <h3>✨ כיצד להשתמש?</h3>
                        <p>בחר קטגוריה ללמוד או עבור לתרגול כדי להתאמן בשאול שאלות.</p>
                    </div>
                </div>

                <div class="cta-section">
                    <h3>🚀 בואן נתחיל!</h3>
                    <p>בחר מה ברצונך לעשות:</p>
                    <div class="cta-buttons">
                        <button class="btn btn-primary cta-btn" onclick="navigateTo('categories')">📚 לומד קטגוריות</button>
                        <button class="btn btn-primary cta-btn" onclick="navigateTo('blueprint')">🏗️ בנה Blueprint</button>
                        <button class="btn btn-primary cta-btn" onclick="navigateTo('prismlab')">🔍 סרוק פריזמות</button>
                        <button class="btn btn-secondary cta-btn" onclick="navigateTo('practice')">🎮 תרגול חופשי</button>
                    </div>
                </div>

                <!-- PROGRESS HUB -->
                <div class="progress-hub">
                    <h3>📊 ההתקדמות שלך</h3>
                    <div class="progress-grid">
                        <div class="progress-card">
                            <span class="progress-icon">🔥</span>
                            <p class="progress-label">Streak</p>
                            <p class="progress-value" id="streak-count">0 ימים</p>
                            <small id="streak-date">היום הראשון!</small>
                        </div>
                        <div class="progress-card">
                            <span class="progress-icon">⭐</span>
                            <p class="progress-label">XP Total</p>
                            <p class="progress-value" id="xp-count">0</p>
                            <small>כל משימה = נקודות</small>
                        </div>
                        <div class="progress-card">
                            <span class="progress-icon">🏆</span>
                            <p class="progress-label">Badges</p>
                            <p class="progress-value" id="badge-count">0</p>
                            <small>פרסים שהצברת</small>
                        </div>
                        <div class="progress-card">
                            <span class="progress-icon">📈</span>
                            <p class="progress-label">Sessions</p>
                            <p class="progress-value" id="session-count">0</p>
                            <small>סשנים שהשלמת</small>
                        </div>
                    </div>
                    <div id="badges-display" class="badges-display">
                        <!-- Badges will render here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- PRISM LAB TAB -->
        <section id="prismlab" class="tab-content">
            <div class="prism-container">
                <div class="card">
                    <h2>🔍 מעבדת פריזמות (Prism Lab)</h2>
                    <p>בחר פריזמה לסריקה, הוצב שאלת עוגן אחת, ומפה את התשובות על רמות לוגיות.</p>

                    <div class="prism-grid" id="prism-library">
                        <!-- Prism cards will be rendered here -->
                    </div>

                    <div id="prism-detail" class="prism-detail hidden">
                        <h3 id="prism-name"></h3>
                        <p id="prism-desc"></p>
                        <div class="anchor-box">
                            <strong>שאלת העוגן:</strong>
                            <p id="prism-anchor" class="anchor-question"></p>
                        </div>

                        <div class="mapping-form">
                            <p class="muted">מלא תשובות למפה לפי רמות (E,B,C,V,I,S)</p>
                            <div class="level-grid">
                                <div class="level-item"><label>Environment (E)</label><input id="ans-E" /></div>
                                <div class="level-item"><label>Behavior (B)</label><input id="ans-B" /></div>
                                <div class="level-item"><label>Capabilities (C)</label><input id="ans-C" /></div>
                                <div class="level-item"><label>Values/Beliefs (V)</label><input id="ans-V" /></div>
                                <div class="level-item"><label>Identity (I)</label><input id="ans-I" /></div>
                                <div class="level-item"><label>Belonging (S)</label><input id="ans-S" /></div>
                            </div>

                            <div class="q-card">
                                <label>עוצמת רגש (1-5)</label>
                                <input type="range" id="prism-emotion" min="1" max="5" value="3" /> <span id="emotion-display">3</span>
                            </div>
                            <div class="q-card">
                                <label>התנגדות (1-5)</label>
                                <input type="range" id="prism-resistance" min="1" max="5" value="2" /> <span id="resistance-display">2</span>
                            </div>

                            <div class="step-buttons">
                                <button id="prism-cancel" class="btn btn-secondary">← חזור לספריה</button>
                                <button id="prism-submit" class="btn btn-primary">מפה והמלץ Pivot →</button>
                            </div>
                        </div>

                        <div id="prism-result" class="final-blueprint-display hidden">
                            <!-- Result: pivot recommendation and map -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CATEGORIES TAB -->
        <section id="categories" class="tab-content">
            <div id="categories-container"></div>
        </section>

        <!-- PRACTICE TAB -->
        <section id="practice" class="tab-content">
            <div class="practice-container">
                <div class="card">
                    <h2>תרגול דינאמי 🎮</h2>
                    <p class="subtitle">בחר קטגוריה וענ על שאלות אינטראקטיביות עם משוב מידי</p>
                    
                    <div class="practice-filters">
                        <label>בחר קטגוריה:</label>
                        <select id="category-select">
                            <option value="">הכל</option>
                        </select>
                    </div>

                    <!-- TRAINER MODE INTERFACE -->
                    <div id="trainer-mode" class="trainer-mode hidden">
                        <!-- QUESTION DISPLAY -->
                        <div class="question-display">
                            <div class="question-header">
                                <span class="question-counter">שאלה <span id="current-q">1</span> מתוך <span id="total-q">10</span></span>
                                <span class="xp-badge">+10 XP</span>
                            </div>
                            <div class="progress-bar">
                                <div id="progress-fill" class="progress-fill"></div>
                            </div>
                            <p class="question-text" id="question-text"></p>
                        </div>

                        <!-- MCQ OPTIONS (Expandable) -->
                        <div class="mcq-options" id="mcq-options">
                            <!-- Options generated dynamically -->
                        </div>

                        <!-- FEEDBACK SECTION -->
                        <div id="feedback-section" class="feedback-section hidden">
                            <div id="feedback-content" class="feedback-box"></div>
                            <button id="next-question-btn" class="btn btn-primary">השאלה הבאה →</button>
                        </div>

                        <!-- HINTS SECTION -->
                        <div class="trainer-hints">
                            <button id="hint-trigger" class="btn btn-secondary hint-button">💡 רמז</button>
                            <div id="hint-display" class="hint-display hidden"></div>
                        </div>
                    </div>

                    <!-- START TRAINER BUTTON -->
                    <div id="trainer-start" class="start-section">
                        <p class="instruction">בחר קטגוריה ולחץ כדי להתחיל</p>
                        <button id="start-trainer-btn" class="btn btn-primary btn-large">🎮 התחל תרגול</button>
                    </div>

                    <!-- STATS -->
                    <div class="practice-stats">
                        <p>✅ תשובות נכונות: <span id="correct-count">0</span></p>
                        <p>📊 קצב הצלחה: <span id="success-rate">0%</span></p>
                        <p>⭐ הרוויח XP: <span id="session-xp">0</span></p>
                    </div>
                </div>
            </div>
        </section>

        <!-- BLUEPRINT BUILDER TAB -->
        <section id="blueprint" class="tab-content">
            <div class="blueprint-container">
                <div class="card">
                    <h2>🏗️ Blueprint Builder - הפוך פעולה בעמומה לתוכנית ביצוע</h2>
                    <p>הקלד פעולה שצריך לעשות, ואנחנו נהפוך אותה לתוכנית מפורטת עם צעדים, תנאים, וחלופות.</p>

                    <!-- STEP 1: CAPTURE -->
                    <div id="blueprint-step-1" class="blueprint-step active">
                        <div class="step-header">
                            <span class="step-number">1</span>
                            <h3>מה אתה אומר לעצמך לעשות?</h3>
                        </div>
                        <p class="step-desc">הקלד את הפעולה בשפה טבעית - בדיוק כמו שהיית אומר לעצמך או שמישהו אמר לך.</p>
                        
                        <div class="input-group">
                            <textarea id="action-input" 
                                      placeholder="דוגמה: 'תתרגל את ה-JavaScript שלי' או 'תסגור את הפרויקט'"
                                      rows="4"></textarea>
                        </div>

                        <div class="step-buttons">
                            <button id="extract-btn" class="btn btn-primary">חלץ ובנה Blueprint →</button>
                        </div>
                    </div>

                    <!-- STEP 2: EXTRACT & SPECIFY -->
                    <div id="blueprint-step-2" class="blueprint-step hidden">
                        <div class="step-header">
                            <span class="step-number">2</span>
                            <h3>פירוק הפעולה</h3>
                        </div>

                        <div class="blueprint-questions">
                            <div class="q-card">
                                <label>מה התוצאה בדיוק? (איך זה נראה בהצלחה?)</label>
                                <textarea id="q-success" placeholder="תופסתי את הקונספט של async/await"></textarea>
                            </div>

                            <div class="q-card">
                                <label>מה הצעד הראשון הקטן ביותר?</label>
                                <textarea id="q-first-step" placeholder="פתח טאב ב-VSCode ויצור קובץ test.js"></textarea>
                            </div>

                            <div class="q-card">
                                <label>מה הצעד האחרון - איך תדע שסיימת?</label>
                                <textarea id="q-last-step" placeholder="אוכל להשרות קוד async וקוד सinc בלי טעויות"></textarea>
                            </div>

                            <div class="q-card">
                                <label>איזה 3-5 שלבים באמצע?</label>
                                <textarea id="q-middle-steps" placeholder="1. קרא מאמר | 2. צפה בוידאו | 3. כתוב דוגמה | 4. בדוק בקונסול"></textarea>
                            </div>

                            <div class="q-card">
                                <label>מה צריך להיות נכון לפני התחלה? (מקום, ציוד, זמן, אישורים)</label>
                                <textarea id="q-prerequisites" placeholder="שעה חופשית, VSCode פתוח, חיבור אינטרנט"></textarea>
                            </div>

                            <div class="q-card">
                                <label>איפה אתה בדרך כלל נתקע?</label>
                                <textarea id="q-friction" placeholder="אני לא מבין מתי promises מסתיימות"></textarea>
                            </div>

                            <div class="q-card">
                                <label>מה Plan B כשנתקע? (חלופה, קיצור דרך, עזרה)</label>
                                <textarea id="q-alternatives" placeholder="אבקש עזרה ב-Stack Overflow או אחזור ל-callbacks"></textarea>
                            </div>

                            <div class="q-card">
                                <label>כמה זמן זה אמור לקחת? (מינימום 70% משימה)</label>
                                <input type="text" id="q-time" placeholder="45 דקות">
                            </div>
                        </div>

                        <div class="step-buttons">
                            <button id="back-to-capture-btn" class="btn btn-secondary">← חזור</button>
                            <button id="gap-analysis-btn" class="btn btn-primary">בדיקת פער ציפיות →</button>
                        </div>
                    </div>

                    <!-- STEP 3: EXPECTATION GAP -->
                    <div id="blueprint-step-3" class="blueprint-step hidden">
                        <div class="step-header">
                            <span class="step-number">3</span>
                            <h3>פער ציפיות vs יכולת</h3>
                        </div>
                        <p class="step-desc">בואן נבחן את הפער בין מה שמצפים ממך לבין מה אתה יכול לעשות כרגע.</p>

                        <div class="blueprint-questions">
                            <div class="q-card">
                                <label>מי מצפה? (אתה / מישהו אחר / מערכת)</label>
                                <select id="q-who-expects">
                                    <option value="">בחר...</option>
                                    <option value="self">אני בעצמי</option>
                                    <option value="other">מישהו אחר</option>
                                    <option value="system">מערכת/חוק/דדליין</option>
                                </select>
                            </div>

                            <div class="q-card">
                                <label>מה בדיוק הציפייה?</label>
                                <textarea id="q-expectation" placeholder="אני אמור להתפקד כ-JavaScript expert"></textarea>
                            </div>

                            <div class="q-card">
                                <label>איזו הנחה סמויה כאן? (על מה הציפיה מניחה?)</label>
                                <textarea id="q-assumption" placeholder="'זה וודאי קל', 'כולם יודעים את זה', 'צריך 5 דקות'"></textarea>
                            </div>

                            <div class="q-card">
                                <label>יכולת כרגע (0-10, כש-10 זה מושלם)</label>
                                <input type="range" id="q-ability" min="0" max="10" value="5">
                                <span id="ability-display">5</span>
                            </div>

                            <div class="q-card">
                                <label>מה חסר לך כדי לעלות נקודה אחת?</label>
                                <textarea id="q-gap" placeholder="15 דקות דוקומנטציה / כלי ניתונים / אישור / קונה דעת"></textarea>
                            </div>

                            <div class="q-card gap-reframe">
                                <label>🎯 ניסוח מחדש (לא-מאשים):</label>
                                <div id="q-reframe" class="reframe-box">
                                    (ה-הודעה תתעדכן אוטומטית)
                                </div>
                            </div>
                        </div>

                        <div class="step-buttons">
                            <button id="back-to-specify-btn" class="btn btn-secondary">← חזור</button>
                            <button id="next-step-btn" class="btn btn-primary">צעד הבא ותוכנית →</button>
                        </div>
                    </div>

                    <!-- STEP 4: FINAL PLAN -->
                    <div id="blueprint-step-4" class="blueprint-step hidden">
                        <div class="step-header">
                            <span class="step-number">4</span>
                            <h3>תוכנית הביצוע סופית ✨</h3>
                        </div>

                        <div id="final-blueprint" class="final-blueprint-display">
                            <!-- Blueprint output will go here -->
                        </div>

                        <div id="next-action-box" class="next-action">
                            <h4>🎯 הצעד שלך הבא:</h4>
                            <p id="next-physical-action"></p>
                        </div>

                        <div id="if-stuck-box" class="if-stuck">
                            <h4>אם נתקעת:</h4>
                            <p id="if-stuck-content"></p>
                        </div>

                        <div class="action-buttons">
                            <button id="export-json-btn" class="btn btn-secondary">📥 ייצא JSON</button>
                            <button id="start-over-btn" class="btn btn-secondary">🔄 Blueprint חדש</button>
                            <button id="do-it-now-btn" class="btn btn-primary">⏱️ בואן נעשה את זה ב-10 דקות!</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ABOUT TAB -->
        <section id="about" class="tab-content">
            <div class="card">
                <h2>על הפרויקט 📖</h2>
                <p><strong>Meta Model - כלי תרגול מטה מודל</strong></p>
                <p>פרויקט זה מעוצב כדי לעזור ללומדים של NLP (Neuro-Linguistic Programming) ליישום טכניקות Meta Model של Richard Bandler ו-John Grinder.</p>
                
                <h3>הקטגוריות העיקריות:</h3>
                <ul>
                    <li><strong>DELETION (מחיקה)</strong> - מחיקת מידע חשוב</li>
                    <li><strong>DISTORTION (עיוות)</strong> - שינוי המציאות</li>
                    <li><strong>GENERALIZATION (הכללה)</strong> - הרחבה מעבר לצריך</li>
                </ul>

                <h3>המקורות:</h3>
                <ul>
                    <li>Richard Bandler & John Grinder - Founders of NLP</li>
                    <li><a href="https://github.com/streamDragon/Meta_Model_app" target="_blank">GitHub Repository</a></li>
                </ul>

                <p class="footer-text">פיתוח על ידי: streamDragon | 2026</p>
            </div>
        </section>
    </div>

    <script src="js/app.js"></script>
</body>
</html>
